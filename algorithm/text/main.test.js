import { canonicalize } from '@jsxcad/algorithm-paths';
import { pathnameToFont, textToSurfaces } from './main';
import { test } from 'ava';

test('Render a letter', t => {
  const letterA = textToSurfaces({ font: pathnameToFont('./GreatVibes-Regular.ttf') }, 'a').map(canonicalize);
  t.deepEqual(letterA,
              [[[[30.31, 13.25, 0], [30.49998, 13.74125, 0], [30.47822, 14.40594, 0], [30.09506, 14.59062, 0], [29.55955, 14.22781, 0], [29.3, 13.82, 0], [27.63766, 10.60625, 0], [23.88525, 4.67469, 0], [21.86845, 2.52523, 0], [20.60531, 1.80711, 0], [20.02, 1.73, 0], [19.69539, 1.79463, 0], [19.22617, 2.31904, 0], [19.03563, 4.13047, 0], [19.3, 6.05, 0], [19.79254, 7.82684, 0], [21.4273, 11.83988, 0], [24.43844, 17.38719, 0], [25.99, 19.51, 0], [25.22281, 19.45687, 0], [23.69219, 19.69562, 0], [22.97, 19.8, 0], [22.16145, 19.76639, 0], [20.82371, 19.20182, 0], [19.18156, 17.20828, 0], [18.07, 15.19, 0], [16.63391, 12.55187, 0], [13.46172, 7.46687, 0], [11.66, 5.11, 0], [10.37559, 3.76471, 0], [7.8902, 2.14615, 0], [6.34187, 1.97039, 0], [5.57557, 2.39526, 0], [5.09392, 3.28343, 0], [4.95856, 4.66033, 0], [5.04, 5.54, 0], [5.60219, 7.69141, 0], [7.34906, 11.64172, 0], [7.99, 12.82, 0], [10.12391, 15.96344, 0], [13.79791, 20.18113, 0], [16.33436, 22.32496, 0], [17.57, 23.11, 0], [18.56428, 23.55561, 0], [20.46705, 23.87729, 0], [22.10779, 23.43256, 0], [23.30932, 22.21299, 0], [23.69, 21.31, 0], [24.11564, 21.29521, 0], [24.7424, 21.59424, 0], [24.99557, 22.20873, 0], [24.78607, 22.9915, 0], [24.48, 23.4, 0], [23.66425, 24.15395, 0], [21.78655, 25.1886, 0], [19.66005, 25.63783, 0], [17.38016, 25.55638, 0], [15.04226, 24.99897, 0], [12.74174, 24.02033, 0], [10.574, 22.67519, 0], [8.63442, 21.01827, 0], [7.78, 20.09, 0], [5.92841, 17.65682, 0], [3.29608, 12.93841, 0], [1.95915, 8.61345, 0], [1.7587, 4.91738, 0], [2.53583, 2.08563, 0], [4.13163, 0.35362, 0], [6.3872, -0.04321, 0], [9.14362, 1.13056, 0], [10.66, 2.38, 0], [12.18516, 4.02125, 0], [14.83797, 7.5775, 0], [15.84, 9.14, 0], [15.27691, 6.56455, 0], [15.23846, 3.60749, 0], [15.63851, 2.17748, 0], [16.68551, 0.73697, 0], [18.5134, -0.09439, 0], [19.44, -0.14, 0], [20.25026, 0.02147, 0], [21.86222, 0.85319, 0], [24.20824, 3.09736, 0], [28.30781, 9.35641, 0]]]]);
});
